# ═══════════════════════════════════════════════════════════════════
# MeetUp – Environment Configuration
# Copy to .env and fill in your values
# ═══════════════════════════════════════════════════════════════════

# ─── Server ──────────────────────────────────────────────────────
NODE_ENV=production
PORT=3000

# ─── SSL (REQUIRED for production) ──────────────────────────────
# WebRTC getUserMedia requires HTTPS in production.
# Option 1: Direct SSL (uncomment and set paths)
# SSL_CERT_PATH=/etc/letsencrypt/live/yourdomain.com/fullchain.pem
# SSL_KEY_PATH=/etc/letsencrypt/live/yourdomain.com/privkey.pem
# Option 2: Use a reverse proxy (nginx) that terminates SSL

# ─── CORS ────────────────────────────────────────────────────────
# Restrict to your domain in production (e.g., https://meet.yourdomain.com)
# Leave empty to block all cross-origin (Socket.IO same-origin only)
CORS_ORIGIN=https://meet.yourdomain.com

# ─── mediasoup ───────────────────────────────────────────────────
# CRITICAL: Set this to your server's PUBLIC IP address
MEDIASOUP_ANNOUNCED_IP=YOUR_SERVER_PUBLIC_IP

# RTC port range – must be open in your firewall (UDP + TCP)
MEDIASOUP_MIN_PORT=40000
MEDIASOUP_MAX_PORT=49999

# Number of workers (defaults to CPU cores / 2)
MEDIASOUP_NUM_WORKERS=

# ─── TURN Server (recommended for production) ───────────────────
# Without TURN, ~10-15% of users behind strict NATs/firewalls can't connect.
# Options: coturn (self-hosted), Twilio, Xirsys, Metered
TURN_URLS=turn:turn.yourdomain.com:3478,turns:turn.yourdomain.com:5349
TURN_USERNAME=your_turn_username
TURN_CREDENTIAL=your_turn_password

# ─── Room Settings ──────────────────────────────────────────────
ROOM_MAX_PEERS=100
ROOM_MAX_IDLE_MS=3600000
ROOM_CLEANUP_INTERVAL_MS=300000
